<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
  <meta name="description" content="description of your site">
  <meta name="author" content="author of the site">
  <title>YIcon 部署</title>
  <link rel="stylesheet" href="source/main.css"/>
  
    
<link rel="stylesheet" href="./theme/yicon.css"/>
    
  
</head>
<body class=build >
    <div class="ydoc">
      <header class="ydoc-header">
        <div class="ydoc-header-area">
            
            <a href="http://ymfe.tech/" class="navbar-brand">YMFE</a>
            
            <button class="ydocIcon navbar-toggle">&#xf020;</button>
            <nav class="ydoc-nav">
              <ul class="navbar-left">
                
                    
                    <li class="">
                        
                        <a href="index.html">站点</a>
                        
                    </li>
                    
                    <li class="active">
                        
                        <a href="build.html">部署</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="release.html">版本</a>
                        
                    </li>
                    
                
              </ul>
            </nav>
        </div>
    </header>
    
    <!-- <header style="height:20px"></header> -->
    
      <!-- Docs page layout -->
      
      <div class="ydoc-banner-bg">
          <div class="ydoc-banner">
              <div class="ydoc-banner-area">
                  <h1>部署字体站</h1>
                  <p>自行搭建字体生成平台方式</p>
              </div>
          </div>
      

      <div class="ydoc-container">
        
          
          <div class="ydoc-container-content" id="readme">
              <article class="markdown-body">
                  
                  <h1 id="YIcon - builder">YIcon - builder</h1><p>如果希望在自己的服务器上搭建字体站，可以遵照如下的方式，一步一步进行部署即可。</p>
<h2 id="环境要求">环境要求</h2><p>环境要求：</p>
<ul>
<li>node 4.x+</li>
<li>npm 3.x</li>
<li>mysql 5.5+</li>
</ul>
<p>npm 应该升级到 3.x，升级方式为：</p>
<pre><code>$ sudo npm install -g npm@3 --registry=https://registry.npm.taobao.org
</code></pre><p>应该提前配置好 mysql 的服务，创建一个用户及其登录密码（可参考<a href="http://www.cyberciti.biz/faq/mysql-change-root-password/">这篇文章</a>），并在里面创建一个 <code>utf-8</code> 编码的数据库。数据库名字、用户名、密码应和下面配置项中的名字保持一致。</p>
<h2 id="初始安装">初始安装</h2><p>使用离线安装的方式，找到我们的压缩包 <code>yicon-builder.tar.gz</code>，运行命令：</p>
<pre><code>$ npm install yicon-builder.tar.gz -g
</code></pre><p>也可以使用 <code>npm link</code> 的方式：</p>
<pre><code>$ tar xvf yicon-builder.tar.gz
$ cd yicon-builder-zip
$ npm link
</code></pre><p>如果安装时依然遇到找不到文件的错误，可以直接尝试在安装包根目录下运行：</p>
<pre><code>$ bin/yicon
</code></pre><p>安装完成之后，会在拥有一个 <code>yicon</code> 的命令。运行 <code>yicon init</code>，可以按照提示进行安装：</p>
<h3 id="提示：输入安装路径">提示：输入安装路径</h3><p>这个是项目的安装路径，安装时会生成如下的目录结构：</p>
<pre><code>├── config.json
├── logs
└── src
</code></pre><h3 id="提示：输入数据库配置项">提示：输入数据库配置项</h3><p>这里是连接数据库的必备选项，包含以下内容：</p>
<ol>
<li>数据库域名，即数据库服务的域，如果配置在本地就填写默认 <code>127.0.0.1</code>；</li>
<li>数据库用户名，即登录数据库的默认用户，默认为 <code>root</code>；</li>
<li>数据库密码，必须按照上文所述，给数据库设定一个密码，默认为 <code>123456</code>；</li>
<li>数据库端口号，默认 <code>3306</code>；</li>
<li>数据库名称，必须在设置之前创建并指定一个特定的数据库，推荐为默认值 <code>iconfont</code>；</li>
</ol>
<p>配置完成后将生成配置文件，并尝试连接数据库，如果连接期间存在问题，将无法自动导入数据表，安装程序会将创建数据表的 sql 文件置入安装路径中，需要稍后手动导入。</p>
<h2 id="依赖安装">依赖安装</h2><p>初始安装成功后，会提示需要进入到安装路径的 src 路径下执行 <code>npm install</code> 进行依赖安装（请自行指定源）。</p>
<h2 id="项目启动">项目启动</h2><p>依赖安装完成后，进入到安装路径的 src 路径下执行 <code>./start.sh</code> 进行项目启动。</p>
<h2 id="项目更新">项目更新</h2><p><strong>删除之前安装的文件路径</strong>，并删除全局命令 <code>yicon</code></p>
<pre><code>$ npm un -g yicon
</code></pre><p>然后重复上面安装的步骤即可。</p>
<p><strong>Tips</strong></p>
<ul>
<li>更换 Logo，请替换 <code>src/static/images/qiconbg.png</code>。</li>
</ul>

              </article>
          </div>
          
        
      </div>
     
     </div>
     
      <footer class="footer">
        <div class="copyright">
            © 2016 <a href='http://ued.qunar.com/ymfe/' target='_blank'>YMFE Team</a>. Build by <a href='https://github.com/YMFE/ydoc' target='_blank'>ydoc</a>.
        </div>
      </footer>
    </div>
    <script src="source/main.js"></script>
    <script src="source/app.js"></script>
    
    

    

</body>
</html>
